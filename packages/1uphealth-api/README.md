![1up.health](../../static/images/1uphealth-logo.png?raw=true&style=center "1uphealth")

# @1uphealth/api

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

## ApiSDK

### API_URL_BASE

Type: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)

### getUsers

**GET /user-management/v1/user**

Get the list of all the users that exist inside your 1up Developer Application,
with the option of filtering by specific users

#### Parameters

-   `oneUpUserId` **OneUpUserId?** 
-   `appUserId` **AppUserId?** 

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;HttpClientResponse>** An array of user objects

### createUser

**POST /user-management/v1/user**

Will cause a user to be created with the attributes passed in the request body. \\
The request won't fail if the user already exists but rather will return the user data but with

#### Parameters

-   `appUserId` **AppUserId** 
-   `userActive` **UserActive** 

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;HttpClientResponse>** 

### updateUser

**PUT /user-management/v1/user**

Can be used to modify an existing user object. It is possible to modify the **app_user_id**,
but the **oneup_user_id** is assigned when the user is created and cannot be changed.

#### Parameters

-   `appUserId` **AppUserId** 
-   `oneUpUserId` **OneUpUserId** 
-   `userActive` **UserActive** 

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;HttpClientResponse>** Will return the new user object

### generateUserAuthCode

**POST /user-management/v1/user/auth-code**

A backend app can use this endpoint to get a new authorization code for a user. \\
Note that this endpoint should not be called in a browser context because \\
it would require exposing your app's secret key to users.

#### Parameters

-   `appUserId` **AppUserId** 

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;HttpClientResponse>** Returns an access token and a refresh token,
which can be used to authenticate requests made on behalf of the user.

### getHealthSystemPickerIFrame

**GET /connect/marketplace**

A common pattern is to ask the user to connect data from their health system to the app. \\
This endpoint returns a simple html page that can be used as a starting point for walking \\
the user through the data connect flow. For more details, \\
read about the <https://1up.health/dev/doc/connect-health-data-iframe>.

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;HttpClientResponse>** This endpoint returns an html page and inline css that, when rendered, results in a UI for \\
selecting which health care system the user would like to connect. The most common use of \\
this is to render this endpoint in an iframe within the developers own app.

### searchConnectProvider

**GET /connect/system/provider**

Used to run a text search on health systems, often for the purpose of allowing the user \\
to find their health system's authorization portal.

#### Parameters

-   `query` **Query** { query: string; } \\
    This is how you specify the text to search for. \\
    It can be a doctor's name, clinic, hospital, or address.

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;HttpClientResponse>** The result will return a bundle of FHIR Organizations which contain the 1upHealth \\
health system id and an extension with the logo of that org or health system. \\
You can use that to direct the patient to the correct connect api url so the patient \\
can authorize sharing of their medical data. \\
See the official hl7 FHIR docs (<https://www.hl7.org/fhir/bundle.html>) \\
for more information on how a FHIR bundle is structured.

### getDevices

**GET /connect/system/device**

Currently 1upHealth allows importing data from either Fitbit, GoogleFit or Withings.

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;HttpClientResponse>** Returns a list of device types that can be used as sources.

### getSupportedHealthSystems

**GET /connect/system/clinical**

Use this endpoint to query the full list of supported health systems. \\
If your use-case would benefit from full-text search of providers on fields \\
like name, address, or clinician names, then we recommend \\
using the Provider Search endpoint instead.

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;HttpClientResponse>** 

### getFHIRResources

**GET /fhir/{fhirVersion}/{resourceType}**

Returns all matching FHIR resources for a resource type \\
See also: \\
FHIR versions and resources supported by 1upHealth
<https://1up.health/dev/reference/fhir-resources> \\
The official HL7 FHIR docs
<https://www.hl7.org/fhir>

This endpoint receives authentication in the form of a http bearer authenitcation header.

#### Parameters

-   `fhirVersion` **FHIRVersion** 
-   `resourceType` **(FHIR_DSTU2.ResourceTypeStr | FHIR_STU3.ResourceTypeStr)** 
-   `queryParams` **QueryParams** 

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;HttpClientResponse>** A FHIR Bundle containing all the resources that match the query,

### createFHIRResource

**POST /fhir/{fhirVersion}/{resourceType}**

Can be used to create a FHIR resource with a given type. \\
See also: \\
FHIR versions and resources supported by 1upHealth
<https://1up.health/dev/reference/fhir-resources> \\
The official HL7 FHIR docs
<https://www.hl7.org/fhir>

#### Parameters

-   `fhirVersion` **FHIRVersion** 
-   `resourceType` **(FHIR_DSTU2.ResourceTypeStr | FHIR_STU3.ResourceTypeStr)** 
-   `resource` **(FHIR_DSTU2.Resource | FHIR_STU3.Resource)** 

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;HttpClientResponse>** A FHIR Resource containing all the attributes that were posted.

### queryFHIREverything

**GET /fhir/{fhirVersion}/Patient/{patientId}/$everything**

This endpoint returns a list of all known FHIR resources for a given patient. \\
This is useful when transmitting batch data or getting the full patient history.

#### Parameters

-   `patientId` **PatientId** 
-   `fhirVersion` **FHIRVersion** 

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;HttpClientResponse>** A FHIR Bundle containing all the resources that match the query

### grantPermissions

**PUT /fhir/dstu2/Patient/patientid/\_permission/{oneUpUserId}**

When making a request to the 1upHealth FHIR API using a user's **access_token**, \\
the resources returned will be scoped to only the resources that the user has \\
permissions to view. However, sometimes when building an app you might want to \\
support the ability for users to grant access to other users to see certain records. \\
This endpoint allows you to grant access to resources to arbitrary users.

#### Parameters

-   `oneUpUserId` **OneUpUserId** 
-   `fhirVersion` **FHIRVersion** 

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;HttpClientResponse>** 

### revokePermissions

**DELETE /fhir/dstu2/Patient/patientid/\_permission/{oneUpUserId}**

This endpoint allows you to remove permissions that have been granted to users to see \\
other users' FHIR resources.

#### Parameters

-   `oneUpUserId` **OneUpUserId** 
-   `fhirVersion` **FHIRVersion** 

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;HttpClientResponse>** 

### generateOAuth2Token

**POST <https://api.1up.health/fhir/oauth2/token>**

grant_type=authorization_code

This method generates new access token for given **auth_code**

#### Parameters

-   `authCode` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;HttpClientResponse>** 

### refreshOAuth2Token

**POST <https://api.1up.health/fhir/oauth2/token>**

grant_type=refresh_token

This method refresh access token for given **refresh_token** parameter

#### Parameters

-   `refreshToken` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;HttpClientResponse>** 

### authenticate

This method generate **access_token** for given **app_user_id**. \\
If there is no user with given **app_user_id**, it creates new one.

#### Parameters

-   `appUserId` **AppUserId** 

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;HttpClientResponse>** 

## HttpClient

HttpClient is helper abstraction over the request library.

### defaultOptions

Type: HttpClientOptions

### get

#### Parameters

-   `uri` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `options` **HttpClientOptions?** 

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;HttpClientResponse>** 

### post

#### Parameters

-   `uri` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `options` **HttpClientOptions?** 

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;HttpClientResponse>** 

### patch

#### Parameters

-   `uri` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `options` **HttpClientOptions?** 

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;HttpClientResponse>** 

### put

#### Parameters

-   `uri` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `options` **HttpClientOptions?** 

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;HttpClientResponse>** 

### delete

#### Parameters

-   `uri` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `options` **HttpClientOptions?** 

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;HttpClientResponse>** 

## Validator

### getUsersPayload

#### Parameters

-   `oneUpUserId` **OneUpUserId?** 
-   `appUserId` **AppUserId?** 

### createUserPayload

#### Parameters

-   `appUserId` **AppUserId** 
-   `userActive` **UserActive** 

### updateUserPayload

#### Parameters

-   `appUserId` **AppUserId** 
-   `oneUpUserId` **OneUpUserId** 
-   `userActive` **UserActive** 

### generateUserAuthCodePayload

#### Parameters

-   `appUserId` **AppUserId** 

### accessToken

#### Parameters

-   `accessToken`  

### clientKeys

#### Parameters

-   `$0` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `$0.clientId`  
    -   `$0.clientSecret`  
